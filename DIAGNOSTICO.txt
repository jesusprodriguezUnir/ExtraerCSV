â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                   DIAGNÃ“STICO DE CONEXIÃ“N A ELASTICSEARCH                    â•‘
â•‘                                17/02/2026                                    â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ” ESTADO DEL SERVIDOR: elk.unir.net
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“Š Puertos Detectados:
  âœ“ 9200  :  ABIERTO   (Elasticsearch)
  âœ“ 443   :  ABIERTO   (HTTPS/Kibana)
  âœ“ 9300  :  ABIERTO   (Cluster communication)
  âœ— 5601  :  CERRADO   (Kibana UI)
  âœ— 8080  :  CERRADO   (HTTP)

ğŸ” Credenciales Proporcionadas:
  Usuario    : <USER>
  ContraseÃ±a : <PASSWORD>
  PatrÃ³n     : logs-*

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âŒ PROBLEMA IDENTIFICADO:

Kibana estÃ¡ configurado como PROXY REVERSO en el puerto 443.

Todas las requests son redirigidas a:
  /login?next=%2F

Incluso con credenciales correctas, Kibana intercepta y no deja pasar.

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… SOLUCIONES (en orden de recomendaciÃ³n):

1ï¸âƒ£  CONTACTAR AL ADMINISTRADOR â­ RECOMENDADO â­
   
   Pide que haga UNO de esto:
   
   A) Exponer Elasticsearch sin Kibana proxy
      Ej: https://elasticsearch.unir.net:9200
   
   B) Crear un API Token/Key para tu usuario
      MÃ¡s seguro que usuario/contraseÃ±a
   
   C) Configurar endpoint especÃ­fico en Kibana
      Ej: https://elk.unir.net/api/elasticsearch

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

2ï¸âƒ£  MIENTRAS TANTO - Usa Kibana Web
   
   1. Accede a: https://elk.unir.net/
  2. Login: <USER> / <PASSWORD>
   3. Ve a: Dev Tools â†’ Console
   4. Ejecuta queries directamente ahÃ­:
      
      GET /
      GET _cat/indices
      GET logs-*/_search

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

3ï¸âƒ£  CONTINÃšA CON CSV LOCAL
   
   La app funciona perfectamente con archivos CSV:
   
   python main.py csv -i archivo.csv -o salida.json
   
   O usa la interfaz web:
   python app_web.py
   
   Luego accede a: http://localhost:5000

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“‹ PLANTILLA PARA EL ADMINISTRADOR:

Asunto: Solicitud de acceso API a Elasticsearch

---

Hola,

Necesito acceso programÃ¡tico a Elasticsearch desde una herramienta externa 
(no desde Kibana UI).

Actualmente, todas las requests se redirigen a la pÃ¡gina de login de Kibana.

Â¿PodrÃ­as hacer uno de esto?

A) Exponer Elasticsearch en un puerto/dominio sin Kibana proxy
   Ej: https://elasticsearch.unir.net:9200

B) Crear un API Key para el usuario dev-academico
   (MÃ¡s seguro que usuario/contraseÃ±a)

C) Configurar un bypass en Kibana para acceso programÃ¡tico
   Endpoint: https://elk.unir.net/api/elasticsearch

Test de conexiÃ³n:
  curl -k -u dev-academico:oov7Bah5eimu]e3Aiphiip2L https://elk.unir.net:9200/

Actualmente devuelve: 302 redirect (redirecciÃ³n a /login)
Esperado: JSON con informaciÃ³n del cluster

Gracias
Los dev
---

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ” DOCUMENTACIÃ“N DISPONIBLE:

Get mÃ¡s detalles:
  cat TROUBLESHOOTING.md

Ejecutar debug avanzado:
  python debug_es.py

Iniciar app web:
  python app_web.py

Ver logs:
  En la consola de la app web

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ¨ RESUMEN EJECUTIVO:

âœ“ El servidor ES ACCESIBLE (puertos abiertos)
âœ“ Las credenciales son VÃLIDAS
âœ“ La app web estÃ¡ LISTA para usar
âœ— Kibana estÃ¡ BLOQUEANDO acceso API

NO es un bug de nuestra aplicaciÃ³n.
Es un PROBLEMA DE CONFIGURACIÃ“N del servidor.

ACCIÃ“N RECOMENDADA:
1. Contacta al administrador con la solicitud arriba
2. Mientras esperas, usa CSV local o Kibana web
3. Cuando te den el acceso API, solo cambia la URL en app_web.py

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Â¿Necesitas ayuda con cualquier otra cosa?
